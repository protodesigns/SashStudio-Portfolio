<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sash Ragesh | Portfolio</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="loader" class="loader-overlay" aria-hidden="true">
      <div class="loader-inner">
        <div class="loader-logo">Loading <br> please be patient.</div>
        <div class="loader-spinner">
          <span class="loader-orbit"></span>
          <span class="loader-core"></span>
        </div>
      </div>
    </div>

    <div class="bg-layer"></div>
    <header class="site-header" id="top">
      <div class="container header-inner">
        <div class="logo">I'm Sash.</div>
        <nav class="main-nav" aria-label="Main navigation">
          <ul class="nav-list" id="nav-list">
            <li><a href="#contact">Contact me</a></li>
            <li>
              <a
                href="https://in.linkedin.com/in/sash-ragesh-216095293"
                target="_blank"
                rel="noreferrer"
                >LinkedIn</a
              >
            </li>
            <li>
              <a
                href="https://www.instagram.com/forgedvisuals"
                target="_blank"
                rel="noreferrer"
                >Instagram</a
              >
            </li>
          </ul>

          <div class="nav-overflow" id="nav-overflow" hidden>
            <button
              type="button"
              class="nav-overflow-btn"
              id="nav-more"
              aria-haspopup="menu"
              aria-expanded="false"
            >
              More
              <span class="nav-overflow-caret" aria-hidden="true"></span>
            </button>
            <ul class="nav-overflow-menu" id="nav-more-menu" role="menu"></ul>
          </div>
        </nav>
      </div>
    </header>

    <main>
      <section class="hero" aria-labelledby="intro-heading">
        <div class="container hero-inner">
          <div class="hero-left">
            <h1 id="intro-heading">Hi, I'm Sash Ragesh</h1>
            <p class="subtitle">
              A Graphic Designer, Videographer, Editor,<br />
              and 3D Artist based in Kerala.
            </p>
            <p class="body-copy">
              My greatest strength is <span>adaptability</span>. I learn
              quickly, adjust even faster, and back myself to grow. Give me a
              fair shot and I will show my value.
            </p>
            <p class="body-copy">
              Cinematography is my <span>true passion</span>; the rest of my
              skills simply help me make a living.
            </p>
            <div class="hero-actions">
              <form
                class="hero-cta-pill"
                action="mailto:sashrakesh@outlook.com"
                method="get"
                novalidate
              >
                <button type="submit" class="cta-pill-button">
                  GET IN TOUCH
                </button>
                <input
                  type="email"
                  name="email"
                  class="cta-pill-input"
                  placeholder="EMAIL ADDRESS"
                  required
                />
              </form>
              <div class="hero-consent">
                <label class="consent-checkbox" for="purpose-consent">
                  <input
                    type="checkbox"
                    id="purpose-consent"
                    name="purpose-consent"
                  />
                  <span class="checkbox-box" aria-hidden="true"></span>
                  <span class="checkbox-label-text">
                    I confirm that this enquiry is professional, genuine, and made in good faith.
                  </span>
                </label>
              </div>
              <p class="note">
                Misuse of this form, including spam or non-serious enquiries, may result in your contact being blocked.
              </p>
            </div>
          </div>

          <aside class="hero-right" aria-label="Skill levels">
            <h2 class="skills-title">Skills</h2>
            <ul class="skills-list">
              <li class="skill">
                <p class="skill-name">Photoshop</p>
                <div class="skill-bar">
                  <span class="skill-fill skill-photoshop"></span>
                </div>
              </li>
              <li class="skill">
                <p class="skill-name">DaVinci Resolve</p>
                <div class="skill-bar">
                  <span class="skill-fill skill-davinci"></span>
                </div>
              </li>
              <li class="skill">
                <p class="skill-name">Blender</p>
                <div class="skill-bar">
                  <span class="skill-fill skill-blender"></span>
                </div>
              </li>
              <li class="skill">
                <p class="skill-name">After Effects</p>
                <div class="skill-bar">
                  <span class="skill-fill skill-aftereffects"></span>
                </div>
              </li>
              <li class="skill">
                <p class="skill-name">Premiere Pro</p>
                <div class="skill-bar">
                  <span class="skill-fill skill-premiere"></span>
                </div>
              </li>
              <li class="skill">
                <p class="skill-name">Illustrator</p>
                <div class="skill-bar">
                  <span class="skill-fill skill-illustrator"></span>
                </div>
              </li>
            </ul>
            <p class="skill-note">
              <strong>Illustrator</strong> sits lower here only because I use it
              less day to day. When a project calls for Illustrator, I can pick
              it up quickly and adapt to whatever the workflow needs.
            </p>
          </aside>
        </div>
      </section>

      <section class="works" id="works" aria-labelledby="works-heading">
        <div class="container">
          <h2 id="works-heading">Recent work</h2>
          <p class="works-subtitle">
            Hand-picked frames and projects from the past year, spanning client
            work, personal pieces, and experiments in design and cinematography.
          </p>
          <div class="works-grid">
            <article class="work-card">
              <div class="work-link">
                <img
                  src="works/1.jpg"
                  alt="Work 1 preview frame"
                  class="work-media"
                />
              </div>
            </article>
            <article class="work-card">
              <div class="work-link">
                <img
                  src="works/2.jpg"
                  alt="Work 2 preview frame"
                  class="work-media"
                />
              </div>
            </article>
            <article class="work-card">
              <div class="work-link">
                <img
                  src="works/3.jpg"
                  alt="Work 3 preview frame"
                  class="work-media"
                />
              </div>
            </article>
            <article class="work-card">
              <div class="work-link">
                <img
                  src="works/4.jpg"
                  alt="Work 4 preview frame"
                  class="work-media"
                />
              </div>
            </article>
            <article class="work-card">
              <div class="work-link">
                <img
                  src="works/5.jpg"
                  alt="Work 5 preview frame"
                  class="work-media"
                />
              </div>
            </article>
            <article class="work-card">
              <div class="work-link">
                <img
                  src="works/6.jpg"
                  alt="Work 6 preview frame"
                  class="work-media"
                />
              </div>
            </article>
          </div>
          <div class="works-cta">
            <a
              href="https://sites.google.com/view/sash-ragesh?usp=sharing"
              target="_blank"
              rel="noreferrer"
              class="btn-see-all"
              >See my full works</a
            >
          </div>
        </div>
      </section>

      <section class="contact" id="contact" aria-labelledby="contact-heading">
        <div class="container contact-inner">
          <div>
            <h2 id="contact-heading">Let's work together</h2>
            <p>
              Ready to start a project or collaborate? Reach out and let's
              create something cinematic.
            </p>
          </div>
          <div class="contact-actions">
            <a
              href="https://in.linkedin.com/in/sash-ragesh-216095293"
              target="_blank"
              rel="noreferrer"
              class="btn-outline secondary"
              >Connect on LinkedIn</a
            >
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-inner">
        <div class="footer-left">
          <span class="footer-label">Find me on</span>
          <nav class="footer-links">
            <a href="https://www.instagram.com/forgedvisuals" target="_blank" rel="noreferrer"
              >Instagram</a
            >
            <a href="https://in.linkedin.com/in/sash-ragesh-216095293" target="_blank" rel="noreferrer"
              >LinkedIn</a
            >
            <a href="https://www.freepik.com/author/sashrk" target="_blank" rel="noreferrer"
              >Freepik</a
            >
            <a href="https://www.behance.net/sashrakesh3d" target="_blank" rel="noreferrer"
              >Behance</a
            >
          </nav>
        </div>
        <div class="footer-right">
          <p class="footer-name">Sash Ragesh</p>
          <p class="footer-tagline">
            Bachelors in animation &amp; graphic design, fluent with modern
            creative tools, and obsessed with capturing cinematic visuals.
          </p>
          <p class="footer-copy">
            &copy; <span id="year"></span> All rights reserved.
          </p>
        </div>
      </div>
    </footer>

    <div
      class="warning-modal-overlay"
      id="warning-modal"
      aria-hidden="true"
      role="dialog"
      aria-modal="true"
      hidden
    >
      <div class="warning-modal">
        <h2 class="warning-modal-title">Before you get in touch</h2>
        <p class="warning-modal-body" id="warning-message">
          Please review your details and try again.
        </p>
        <button
          type="button"
          class="warning-modal-close"
          id="warning-close"
          aria-label="Close message"
        >
          Got it
        </button>
      </div>
    </div>

    <div class="custom-cursor" aria-hidden="true"></div>
    <div class="custom-cursor-dot" aria-hidden="true"></div>

    <script>
      // Set dynamic year in footer
      const yearEl = document.getElementById("year");
      if (yearEl) {
        yearEl.textContent = new Date().getFullYear().toString();
      }

      // Responsive "priority+" nav (no breakpoints/hardcoding)
      (() => {
        const headerInner = document.querySelector(".header-inner");
        const list = document.getElementById("nav-list");
        const overflow = document.getElementById("nav-overflow");
        const moreBtn = document.getElementById("nav-more");
        const moreMenu = document.getElementById("nav-more-menu");

        if (!headerInner || !list || !overflow || !moreBtn || !moreMenu) return;

        const allItems = Array.from(list.children);

        const closeMenu = () => {
          overflow.classList.remove("is-open");
          moreBtn.setAttribute("aria-expanded", "false");
        };

        const setOverflowActive = (active) => {
          overflow.hidden = !active;
          overflow.classList.toggle("is-active", active);
          if (!active) closeMenu();
        };

        const reset = () => {
          closeMenu();
          setOverflowActive(false);
          allItems.forEach((li) => list.appendChild(li));
        };

        const update = () => {
          reset();

          // If everything fits, keep it inline.
          if (list.scrollWidth <= list.clientWidth) return;

          // Otherwise activate the "More" button and move items until it fits.
          setOverflowActive(true);

          while (list.scrollWidth > list.clientWidth && list.children.length > 1) {
            const last = list.lastElementChild;
            if (!last) break;
            moreMenu.insertBefore(last, moreMenu.firstChild);
          }

          // If we didn't actually overflow, hide it again.
          if (moreMenu.children.length === 0) setOverflowActive(false);
        };

        const schedule = (() => {
          let raf = 0;
          return () => {
            if (raf) cancelAnimationFrame(raf);
            raf = requestAnimationFrame(update);
          };
        })();

        moreBtn.addEventListener("click", () => {
          const isOpen = overflow.classList.toggle("is-open");
          moreBtn.setAttribute("aria-expanded", isOpen ? "true" : "false");
        });

        document.addEventListener("click", (e) => {
          const target = e.target;
          if (target && overflow.contains(target)) return;
          closeMenu();
        });

        document.addEventListener("keydown", (e) => {
          if (e.key === "Escape") closeMenu();
        });

        moreMenu.addEventListener("click", (e) => {
          const target = e.target;
          if (target && target.closest && target.closest("a")) closeMenu();
        });

        if ("ResizeObserver" in window) {
          const ro = new ResizeObserver(schedule);
          ro.observe(headerInner);
        } else {
          window.addEventListener("resize", schedule);
        }

        // Initial layout
        schedule();
      })();

      // Animate skills when the panel becomes visible
      const skillsPanel = document.querySelector(".hero-right");
      if ("IntersectionObserver" in window && skillsPanel) {
        const observer = new IntersectionObserver(
          (entries, obs) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                skillsPanel.classList.add("skills-visible");
                obs.unobserve(entry.target);
              }
            });
          },
          {
            threshold: 0.35,
          }
        );
        observer.observe(skillsPanel);
      } else if (skillsPanel) {
        // Fallback: show bars immediately
        skillsPanel.classList.add("skills-visible");
      }

      // Front-end handling for the email pill
      const heroForm = document.querySelector(".hero-cta-pill");
      if (heroForm) {
        const consentCheckbox = document.getElementById("purpose-consent");

        const warningModal = document.getElementById("warning-modal");
        const warningMessage = document.getElementById("warning-message");
        const warningClose = document.getElementById("warning-close");

        const showWarning = (message) => {
          if (!warningModal || !warningMessage) {
            alert(message);
            return;
          }
          warningMessage.textContent = message;
          warningModal.hidden = false;
          warningModal.classList.add("is-visible");
          warningModal.setAttribute("aria-hidden", "false");
        };

        if (warningModal && warningClose) {
          const hideWarning = () => {
            warningModal.classList.remove("is-visible");
            warningModal.setAttribute("aria-hidden", "true");
            warningModal.hidden = true;
          };

          warningClose.addEventListener("click", hideWarning);

          warningModal.addEventListener("click", (event) => {
            if (event.target === warningModal) {
              hideWarning();
            }
          });

          window.addEventListener("keydown", (event) => {
            if (event.key === "Escape" && warningModal.classList.contains("is-visible")) {
              hideWarning();
            }
          });
        }

        heroForm.addEventListener("submit", (event) => {
          event.preventDefault();
          const emailInput = heroForm.querySelector(".cta-pill-input");
          const email = emailInput ? emailInput.value.trim() : "";

          // Basic email validation
          if (!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
            showWarning("Please enter a valid email address.");
            if (emailInput) {
              emailInput.focus();
            }
            return;
          }

          if (consentCheckbox && !consentCheckbox.checked) {
            showWarning(
              "Please confirm that your enquiry is genuine and professional by ticking the confirmation box before getting in touch."
            );
            return;
          }

          const targetAddress = "sashrakesh@outlook.com"; // replace with your real address
          const subject = encodeURIComponent("Portfolio contact from " + email);
          const body = encodeURIComponent(
            "Hi Sash,%0D%0A%0D%0AYou received this message from: " +
              email +
              "%0D%0A%0D%0AWrite your message here..."
          );

          window.location.href =
            "mailto:" + targetAddress + "?subject=" + subject + "&body=" + body;
        });
      }

      // Reveal animations on scroll
      (() => {
        const revealTargets = [
          ".site-header .header-inner",
          ".hero-left > *",
          ".hero-right",
          ".works h2",
          ".works .works-subtitle",
          ".works .work-card",
          ".contact .contact-inner > *",
        ];

        const nodes = [];
        revealTargets.forEach((selector) => {
          document.querySelectorAll(selector).forEach((el) => nodes.push(el));
        });

        nodes.forEach((el, idx) => {
          el.classList.add("reveal");
          el.style.setProperty("--reveal-delay", `${Math.min(idx * 45, 240)}ms`);
        });

        if (!("IntersectionObserver" in window)) {
          nodes.forEach((el) => el.classList.add("reveal-visible"));
          return;
        }

        const revealObserver = new IntersectionObserver(
          (entries, obs) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("reveal-visible");
                obs.unobserve(entry.target);
              }
            });
          },
          { threshold: 0.18, rootMargin: "0px 0px -10% 0px" }
        );

        nodes.forEach((el) => revealObserver.observe(el));
      })();

      // Custom cursor
      (() => {
        try {
          const cursor = document.querySelector(".custom-cursor");
          const dot = document.querySelector(".custom-cursor-dot");
          if (!cursor || !dot) return;

          document.documentElement.classList.add("cursor-enabled");

          let x = window.innerWidth / 2;
          let y = window.innerHeight / 2;
          let tx = x;
          let ty = y;

          const move = (event) => {
            tx = event.clientX;
            ty = event.clientY;
            dot.style.transform = `translate3d(${tx}px, ${ty}px, 0)`;
          };

          const tick = () => {
            x += (tx - x) * 0.12;
            y += (ty - y) * 0.12;
            cursor.style.transform = `translate3d(${x}px, ${y}px, 0)`;
            requestAnimationFrame(tick);
          };

          document.addEventListener("mousemove", move, { passive: true });
          requestAnimationFrame(tick);

          document.addEventListener("mouseover", (event) => {
            const target = event.target;
            const interactive =
              target &&
              typeof target.closest === "function" &&
              target.closest(
                'a, button, input, textarea, select, label, [role="button"]'
              );
            document.documentElement.classList.toggle(
              "cursor-hover",
              Boolean(interactive)
            );
          });

          document.addEventListener("mouseleave", () => {
            document.documentElement.classList.remove("cursor-hover");
          });
        } catch (err) {
          document.documentElement.classList.remove("cursor-enabled");
        }
      })();

      // Basic copy/paste protection (not foolproof)
      (() => {
        const isEditable = (target) => {
          if (!target) return false;
          const el = target;
          if (el.isContentEditable) return true;
          const tag = el.tagName ? el.tagName.toLowerCase() : "";
          if (tag === "input" || tag === "textarea") return true;
          return false;
        };

        const blockIfNotEditable = (event) => {
          if (isEditable(event.target)) return;
          event.preventDefault();
        };

        ["copy", "cut", "paste", "contextmenu", "dragstart"].forEach((type) => {
          document.addEventListener(type, blockIfNotEditable);
        });
      })();

      // Loading screen: 3s overlay, then reveal animations
      window.addEventListener("load", () => {
        const loader = document.getElementById("loader");
        if (!loader) return;
        // mark app ready for entrance animations
        document.documentElement.classList.add("app-animate");
        // keep loader briefly for a short intro
        setTimeout(() => {
          loader.classList.add("loader-hidden");
        }, 2000);
      });
    </script>
  </body>
</html>

